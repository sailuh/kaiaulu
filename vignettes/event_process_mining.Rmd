---
title: "Event Process Mining"
output: 
  html_document:
    toc: true
    number_sections: true
vignette: >
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteIndexEntry{Event Process Mining}
  %\VignetteEncoding{UTF-8}
---

# Introduction

Process mining helps uncover insights from data that represent different events in a process. It is valuable for understanding workflows, finding inefficiencies, and optimizing development processes. The Kaiaulu interface for process mining enables this discovery for Github Events (e.g. creating issues, push events, deleting branches, etc). Allowing users to visualize and analyze event data effectively. This vignette demonstrates how to use Kaiaulu to download and parse Github Event data. As well how to interact with the data to leverage process discovery for deeper analysis. This [video](https://www.youtube.com/watch?v=XLHtvt36g6U&t=1181s) provides an overview of process mining concepts and its applications and can be used as a reference point to begin. Kaiaulu's interface to Process Mining for Github events relies on the python package [pm4py](https://github.com/process-intelligence-solutions/pm4py).

## Requirements

-   Gihub Access Token
-   Python (for visualizations)
-   Reticulate package (to interface with python)
-   Python environment with [pm4py](https://github.com/process-intelligence-solutions/pm4py) installed

## Project Configuration File

To streamline downloading and parsing data for Github Events we will specify a configuration file instead of entering parameters manually for both R and python environments. The configuration file content that interests us are the following:

-   Github owner and repo names along with the save path for issue_events

    ![](images/Screenshot 2025-02-25 at 12.44.10 PM-02.png)

<!-- -->

-   Process Mining parsed .csv file location along with folder to save images of process graphs and trees

    ![](images/Screenshot 2025-02-25 at 12.44.27 PM-01.png)

### Install Reticulate

```{r}
install.packages("reticulate")
library(reticulate)
```

### Download the [Python Script](https://github.com/sailuh/process_mining) and Provide Path

-   At this point you may need to download pm4py

```{r}
source_python("~/Desktop/Kaiaulu/Working_issues/process_mining/event_processing.py")
```

### Download and Parse data with kaiaulu ghevents.R (CLI)

-   To download specify: \<owner\> \<repo\> \<output_dir\> \<github_token\>

-   To parse specify \<input_dir\> \<output_file\>

```{r}
command <- 'Rscript exec/ghevents.R download sailuh kaiaulu ../output --token_path=~/.ssh/github_token'
system(command)

command <- 'Rscript exec/ghevents.R parse ../output ../output.csv'
system(command)
```

### Call python functions from script with parsed data

-   Provide .csv file location

```{r}
start_end_activities_result <- start_end_activities("~/path/to/csv")

# Print the first five activies 
head(start_end_activities_result[[1]], 5)
```

### Generate Process Tree and Save Image

-   Provide .csv file location and output directory for images

```{r}
generate_tree("~/path/to/csv")
```
